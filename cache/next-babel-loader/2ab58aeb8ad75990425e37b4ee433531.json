{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Loader } from \"../../components/Loader\";\nimport { PostBody } from \"../../components/Post/PostBody\";\nimport { Comments } from \"../../components/Comments\";\nimport { fetchPost } from \"../../api/post\";\nimport { fetchComments } from \"../../api/comments\";\nimport { store } from \"../../store\";\nimport { UPDATE_POST_ACTION } from \"../../store/post\";\nimport { UPDATE_COMMENTS_ACTION } from \"../../store/comments\";\nexport const getServerSideProps = store.getServerSideProps(async ({\n  store,\n  params\n}) => {\n  if (typeof params.id !== \"string\") throw new Error(\"Unexpected id\");\n  const comments = await fetchComments(params.id);\n  const post = await fetchPost(params.id);\n  store.dispatch({\n    type: UPDATE_POST_ACTION,\n    post\n  });\n  store.dispatch({\n    type: UPDATE_COMMENTS_ACTION,\n    comments\n  });\n});\n\nconst Post = () => {\n  const {\n    post,\n    comments\n  } = useSelector(state => state);\n  if (!post) return __jsx(Loader, null);\n  return __jsx(React.Fragment, null, __jsx(PostBody, {\n    post: post\n  }), __jsx(Comments, {\n    comments: comments,\n    post: post.id\n  }));\n};\n\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}