{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { submitComment } from \"../../api/comments\";\nimport { UPDATE_COMMENTS_ACTION } from \"../../store/comments\";\nimport { Form } from \"./style\";\nexport const CommentForm = ({\n  post\n}) => {\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: value,\n    1: setValue\n  } = useState(\"\");\n  const {\n    0: name,\n    1: setName\n  } = useState(\"\");\n  const dispatch = useDispatch();\n\n  async function submit(e) {\n    e.preventDefault();\n    setLoading(true);\n    const response = await submitComment(post, name, value);\n    const comments = await response.json();\n    setLoading(false);\n    setValue(\"\");\n    setName(\"\");\n\n    if (response.status === 200) {\n      dispatch({\n        type: UPDATE_COMMENTS_ACTION,\n        comments\n      });\n    }\n  }\n\n  return __jsx(Form, {\n    onSubmit: submit\n  }, __jsx(\"h3\", null, \"Your comment\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: name,\n    placeholder: \"Your name\",\n    onChange: e => setName(e.target.value),\n    required: true\n  }), __jsx(\"textarea\", {\n    name: \"comment\",\n    value: value,\n    placeholder: \"What do you think?\",\n    onChange: e => setValue(e.target.value),\n    required: true\n  }), loading ? __jsx(\"span\", null, \"Submitting...\") : __jsx(\"button\", null, \"Submit\"));\n};","map":null,"metadata":{},"sourceType":"module"}